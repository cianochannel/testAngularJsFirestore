<html>
  <head>
    <title>My App (test Angularjs + Firebase)</title>


    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase-app.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase-firestore.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase-auth.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase-database.js"></script> 
    <script src="https://www.gstatic.com/firebasejs/4.7.0/firebase-messaging.js"></script> 

    <!-- Initialize Firebase -->
    <script>

      var config = {
        apiKey: "AIzaSyCAjIvPSOjz9Rmxui_eXn9QgX3nqs6-NYw",
        authDomain: "testangularjsfirestore.firebaseapp.com",
        databaseURL: "https://testangularjsfirestore.firebaseio.com",
        projectId: "testangularjsfirestore",
        storageBucket: "",
        messagingSenderId: "925116971401"
      };
      firebase.initializeApp(config);

      var firestore = firebase.firestore();

      /* for(var i=1; i<=10000; i++){
        const docRef = firestore.doc("readings/"+rndNumber(40));
        docRef.set({
          cycleId:rndString(40),
          fileId:rndString(40),
          chargeId:rndString(40),
          customer:rndString(40),
          address:rndString(40),
          streetNumber:rndNumber(4),
          postalCode:rndNumber(5),
          city:rndString(40),
          province:rndString(2),
          customerCode:rndNumber(14),
          pod:rndNumber(24),
          counterCode:rndString(24),
          counterDigits:rndNumber(1),
          previousRead:rndNumber(9),
          previousReadData:'01/01/2017',
          minimumRead:rndNumber(9),
          maximumRead:rndNumber(9)
        }).then(function(result) {
          console.log("Saved", result);
        }).catch(function (error) {
          console.log("Error:", error);
        });
      }*/

      //const docRef = firestore.collection("readings").doc("0001916930719195880333547449333142284937");
      firestore.collection("readings").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          console.log(doc.id, " => ", doc.data());
        });
      });


      function rndString(length) {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        for (var i = 0; i < length; i++)
          text += possible.charAt(Math.floor(Math.random() * possible.length));
        return text;
      }

      function rndNumber(length) {
        var text = "";
        var possible = "0123456789";
        for (var i = 0; i < length; i++)
          text += possible.charAt(Math.floor(Math.random() * possible.length));
        return text;
      }

      function CL(s){ console.log(s); }


    </script>

    <script>


    </script>



  </head>

  <body>




  </body>

</html>

